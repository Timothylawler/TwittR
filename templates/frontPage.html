<section ng-controller="frontpageController" class="container">
	
	<h2 class="heading center">TIMELINE</h2>
	
	<div class="row" timeline-directive>
		<!-- repeat for each tweet in timeline found in controller -->
		<div ng-repeat="tweet in timeline track by $index" repeat-directive>
			<div ng-controller="cardController as cardCtrl">
				<div class="col s12 m6 center" >
					<div class="card" >
						<div class="card-image">
							<img class="responsive-img" ng-if="tweet.entities.media[0].media_url !== undefined" src=" {{ tweet.entities.media[0].media_url || '' }} ">
							<a id="favorite-btn" href="" class="btn-floating btn-medium waves-effect waves-light card-fab tooltipped deep-purple" ng-click="cardCtrl.favorite($index)" data-position="left" data-tooltip="Favorite" data-delay="50"><i class="material-icons">favorite</i></a>
							<a href="" class="btn-floating btn-medium waves-effect waves-light card-fab second tooltipped indigo" ng-click="cardCtrl.retweet($index)" data-position="left" data-tooltip="Retweet" data-delay="50"><i class="material-icons">sync</i></a>
							<!--<a href="" class="btn-floating btn-medium waves-effect waves-light card-fab third tooltipped deep-purple" ng-click="cardCtrl.comment($index)" data-position="left" data-tooltip="Comment" data-delay="50"><i class="material-icons">comment</i></a>-->
							<a href="" class="btn-floating btn-medium waves-effect waves-light card-fab third tooltipped teal" data-position="left" data-tooltip="More" data-delay="50" ng-click="moreInformation = !moreInformation"><i class="material-icons">info_outline</i></a>
						</div>
						<div class="card-stacked">
							<span class="card-title black-text">{{ tweet.user.name || tweet.user.screen_name || ''  }}</span>
							<div class="card-content">
								<p>{{ tweet.text }}</p>
							</div>
							<div class="card-action">
								<div class="row">
									<div class="col s6">
										Favorites: {{ tweet.favorite_count }}
									</div>
									<div class="col s6">
										Retweets: {{ tweet.retweet_count }}
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- More information -->
				<div class="col s12 m6 scrollcurtain animShowHide center z-depth-1 margin-top-8 white" ng-hide="moreInformation">
					<!-- Poster information -->
					<section class="section">
						<span><img src="{{ tweet.user.profile_image_url || ''}}"></span>
						<div class="flow-text">Posted by {{ tweet.user.name }} </div>
						<div>{{ tweet.user.description }} </div>
						<div class="row">
							<div class="col s12 m6">
								Followers: {{ tweet.user.followers_count }}
							</div>
							<div class="col s12 m6">
								Friends: {{ tweet.user.friends_count }}
							</div>
						</div>
					</section>
				</div>
				
			</div>
		</div><!-- /ng-repeat-->
	</div>
	
</section>






